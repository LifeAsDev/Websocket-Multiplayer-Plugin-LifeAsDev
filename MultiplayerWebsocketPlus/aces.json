{
	"$schema": "../aces.schema.json",
	"signalling": {
		"conditions": [
			{
				"id": "on-connected",
				"scriptName": "onConnectedToSgWs",
				"isTrigger": true
			},
			{
				"id": "is-connected",
				"scriptName": "isConnected"
			},

			{
				"id": "on-error",
				"scriptName": "onError",
				"isTrigger": true
			},
			{
				"id": "on-room-list",
				"scriptName": "onRoomList",
				"isTrigger": true
			}
		],
		"actions": [
			{
				"id": "connect",
				"scriptName": "connect",
				"params": [
					{
						"id": "url",
						"type": "string",
						"initialValue": "\"wss://multiplayer.construct.net\""
					}
				]
			},

			{
				"id": "disconnect-room",
				"scriptName": "disconnectFromRoom"
			},
			{
				"id": "disconnect-signalling",
				"scriptName": "disconnectFromSignalling"
			},

			{
				"id": "request-room-list",
				"scriptName": "requestRoomList"
			}
		],
		"expressions": [
			{
				"id": "ErrorMessage",
				"expressionName": "ErrorMessage",
				"highlight": false,
				"returnType": "string"
			},

			{
				"id": "CurrentRoom",
				"expressionName": "CurrentRoom",
				"highlight": false,
				"returnType": "string"
			},
			{
				"id": "ListRoomCount",
				"expressionName": "ListRoomCount",
				"highlight": false,
				"returnType": "number"
			},
			{
				"id": "ListRoomName",
				"expressionName": "ListRoomName",
				"highlight": false,
				"returnType": "string",
				"params": [
					{
						"id": "index",
						"type": "number",
						"description": "The index of the room in the list."
					}
				]
			}
		]
	},
	"room": {
		"conditions": [
			{
				"id": "on-joined-room",
				"scriptName": "onJoinedRoom",
				"isTrigger": true
			},
			{
				"id": "on-peer-message",
				"scriptName": "onPeerMessage",
				"isTrigger": true,
				"params": [
					{
						"id": "tag",
						"type": "string"
					}
				]
			},
			{
				"id": "on-peer-connected",
				"scriptName": "onPeerConnected",
				"isTrigger": true
			},
			{
				"id": "is-host",
				"scriptName": "isHost"
			},
			{
				"id": "is-in-room",
				"scriptName": "isInRoom"
			},
			{
				"id": "on-disconnected",
				"scriptName": "onDisconnectedFromSignalling",
				"isTrigger": true
			},
			{
				"id": "on-peer-disconnected",
				"scriptName": "onPeerDisconnected",
				"isTrigger": true
			},

			{
				"id": "on-any-peer-message",
				"scriptName": "onAnyPeerMessage",
				"isTrigger": true
			}
		],
		"actions": [
			{
				"id": "join-room",
				"scriptName": "joinRoom",
				"params": [
					{
						"id": "room",
						"type": "string"
					}
				]
			},
			{
				"id": "create-room",
				"scriptName": "createRoom",
				"params": [
					{
						"id": "room",
						"type": "string"
					}
				]
			},
			{
				"id": "send-message",
				"scriptName": "sendPeerMessage",
				"params": [
					{
						"id": "peer-id",
						"type": "string"
					},
					{
						"id": "tag",
						"type": "string"
					},

					{
						"id": "message",
						"type": "string"
					}
				]
			}
		],
		"expressions": [
			{
				"id": "Message",
				"expressionName": "Message",
				"highlight": false,
				"returnType": "string"
			},
			{
				"id": "Tag",
				"expressionName": "Tag",
				"highlight": false,
				"returnType": "string"
			},
			{
				"id": "PeerID",
				"expressionName": "PeerID",
				"highlight": false,
				"returnType": "string"
			},

			{
				"id": "MyID",
				"expressionName": "MyID",
				"highlight": false,
				"returnType": "string"
			},

			{
				"id": "HostID",
				"expressionName": "HostID",
				"highlight": false,
				"returnType": "string"
			},
			{
				"id": "LeaveReason",
				"expressionName": "LeaveReason",
				"returnType": "string"
			},
			{
				"id": "PeerCount",
				"expressionName": "PeerCount",
				"highlight": false,
				"returnType": "number"
			}
		]
	},
	"roomHost": {
		"actions": [
			{
				"id": "broadcast-message",
				"scriptName": "broadcastMessage",
				"params": [
					{
						"id": "from-id",
						"type": "string"
					},
					{
						"id": "tag",
						"type": "string"
					},

					{
						"id": "message",
						"type": "string"
					}
				]
			},
			{
				"id": "kick-peer",
				"scriptName": "kickPeer",
				"params": [
					{
						"id": "peerId",
						"type": "string"
					},
					{
						"id": "reason",
						"type": "string"
					}
				]
			}
		],
		"conditions": [],
		"expressions": []
	}
}
